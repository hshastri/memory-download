<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Download Snapchat Memories</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body class="bg-dark" onload="document.getElementById('form').reset();">
    <div class="bg-snap-yellow container-fluid m-0 p-0">
      <div class="container-md text-center p-5">
        <img src="ghostlogo.svg" width="60" height="60" />
        <h1><strong>Memory Download</strong></h1>
        <h4>Download all of your Snapchat memories with ease</h4>
      </div>

      <div
        class="container-sm px-5 pb-4 min-vh-50"
        style="min-height: 40vh; overflow-y: hidden"
      >
        <div id="steps-card">
          <div id="step-0">
            <p>
              Want a copy of all your Snapchat memories? You're in the right
              place!
              <br />
              This application allows you to download a copy of your memories to
              your computer all at once. It takes 5 simple steps.
            </p>

            <h4>Steps</h4>
            <ol>
              <li>Download your Snapchat data</li>
              <li>Find and uncompress (unzip) your Snapchat data</li>
              <li>Upload your <tt>memories_history.json</tt> file</li>
              <li>Wait while your memories are prepared for you</li>
              <li>Enjoy your memories!</li>
            </ol>
          </div>

          <div id="step-1" class="d-none">
            <h4>Download your Snapchat data</h4>

            <div>
              <p>Snapchat makes downloading your data very simple!</p>

              <ol>
                <li>
                  Sign into your Snapchat account at
                  <a
                    href="https://accounts.snapchat.com"
                    target="_blank"
                    class="text-dark"
                    >accounts.snapchat.com</a
                  >
                </li>
                <li>Click <strong>My Data</strong></li>
                <li>
                  Click <strong>Submit Request</strong> at the bottom of the
                  page
                </li>
                <li>
                  Wait for an email from Snapchat with a link to your data
                  archive. (This may take as long as a day)
                </li>
                <li>
                  Follow the link found in your email and follow the given
                  instructions to download your data
                </li>
              </ol>

              <p>
                <small
                  >Need more help downloading your data? Visit the official
                  <a
                    href="https://support.snapchat.com/en-US/a/download-my-data"
                    target="_blank"
                    class="text-dark"
                    >Download my Data</a
                  >
                  Snapchat support page.</small
                >
              </p>
            </div>
          </div>

          <div id="step-2" class="d-none">
            <h4>Find and uncompress (unzip) your Snapchat data</h4>

            <div>
              <p>
                Unzipping the file allows you access to the specific file needed
                to download your memories.
              </p>

              <ol>
                <li>
                  Find the <tt>mydata~###.zip</tt> file downloaded in the
                  previous step
                </li>
                <li>Unzip the file</li>
              </ol>

              <p>
                <small
                  >The <tt>###</tt> represents the download number provided by
                  Snapchat</small
                >
              </p>
            </div>
          </div>

          <div id="step-3" class="d-none">
            <h4>Upload your <tt>memories_history.json</tt> file</h4>

            <form id="form" action="">
              <ol>
                <li>
                  Select the <tt>memories_history.json</tt> file that is
                  included in the data downloaded from Snapchat. You can find
                  the file within the <tt>json</tt> folder.
                </li>
              </ol>
              <input
                type="file"
                accept=".json"
                id="file-input"
                class="form-control form-control-lg mb-2"
              />

              <ol start="2">
                <li>
                  Select the folder where your memories will be downloaded.
                </li>
              </ol>
              <div class="text-center">
                <button
                  id="choose-download-location-button"
                  class="btn btn-dark my-2"
                >
                  Choose Download Folder
                </button>
              </div>
              <p>
                <small>
                  <a id="extra-options-button" class="text-dark" role="button"
                    >Additional settings</a
                  >
                </small>
              </p>

              <div id="extra-options" class="d-none d-flex">
                <div class="p-4 flex-fill">
                  <h6>Memory type</h6>
                  <input
                    type="checkbox"
                    name="photos"
                    checked
                    onclick="updateOptions('photos')"
                  />
                  <label for="photos">Photos</label>

                  <br />

                  <input
                    type="checkbox"
                    name="videos"
                    checked
                    onclick="updateOptions('videos')"
                  />
                  <label for="videos">Videos</label>
                </div>

                <div class="p-4 flex-fill">
                  <h6>Advanced options</h6>

                  <input
                    type="checkbox"
                    name="previews"
                    checked
                    onclick="updateOptions('previews')"
                  />
                  <label for="previews">
                    Download Preview
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-question-circle-fill align-middle"
                      viewBox="0 0 16 16"
                      data-bs-toggle="tooltip"
                      data-bs-placement="top"
                      data-bs-html="true"
                      title="Show a preview while your download progresses<HR><small>Previews are only shown for photos</small>"
                    >
                      <path
                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"
                      />
                    </svg>
                  </label>

                  <br />

                  <input
                    type="checkbox"
                    name="concurrent"
                    checked
                    onclick="updateOptions('concurrent')"
                  />
                  <label for="concurrent">
                    Concurrent downloads
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-question-circle-fill align-middle"
                      viewBox="0 0 16 16"
                      data-bs-toggle="tooltip"
                      data-bs-placement="top"
                      data-bs-html="true"
                      title="Download multiple memories at the same time<HR><small>Requires photos and videos</small>"
                    >
                      <path
                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"
                      />
                    </svg>
                  </label>

                  <br />

                  <input type="checkbox" name="progress-updates" />
                  <label for="progress-updates">
                    Progress updates
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-question-circle-fill align-middle"
                      viewBox="0 0 16 16"
                      data-bs-toggle="tooltip"
                      data-bs-placement="top"
                      data-bs-html="true"
                      title="Show detailed updates as your download progresses<HR><small>Requires concurrent downloads</small>"
                    >
                      <path
                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"
                      />
                    </svg>
                  </label>
                </div>
              </div>
            </form>
          </div>

          <div id="step-4" class="container-md d-none">
            <h4>Wait while your memories are prepared for you</h4>
            <div class="text-center">
              <div class="row align-items-center">
                <div id="preview" class="d-none col-md">
                  <img
                    class="rounded h-100"
                    onclick="togglePreviewZoom()"
                    title="Zoom"
                  />
                </div>

                <div id="advanced-progress-updates" class="d-none col-md">
                  <table
                    class="table table-dark table-borderless table-hover align-middle rounded m-2"
                  >
                    <thead>
                      <tr>
                        <th>Year</th>
                        <th>Photos</th>
                        <th>Videos</th>
                      </tr>
                    </thead>

                    <tbody></tbody>
                  </table>
                </div>
              </div>

              <p id="message">Downloading your memories...</p>

              <div class="progress">
                <div
                  id="progress-bar"
                  class="progress-bar bg-dark"
                  role="progressbar"
                  style="width: 0%"
                ></div>
              </div>
              <p class="d-none" id="percent">0%</p>

              <p>
                <small id="progress-bar-note" class="d-none"></small>
                <small>
                  Processing <span id="total-memories">0</span> files
                  <br />
                  <strong>Do not close this window</strong>
                </small>
              </p>
              <div
                id="small-error-feedback"
                class="d-none mt-4 border border-2 border-dark"
              >
                <h5>A small error occurred</h5>
                <pre class="text-wrap">No other information available</pre>
                <p><small>Note that your download will continue</small></p>
              </div>
            </div>
          </div>

          <div id="step-5" class="container-md d-none">
            <h4>Your download is complete</h4>
            <div class="text-center">
              <button id="open-memories-button" class="btn btn-dark mb-2">
                View memories
              </button>
              <p id="done-message"></p>
              <div id="failed-memories"></div>
            </div>
          </div>

          <button id="nav-button" class="btn btn-dark my-2">Get Started</button>
          <a
            id="donation-link"
            href="https://www.buymeacoffee.com/cal.overflow"
            target="_blank"
            class="d-none"
            ><button class="btn btn-dark my-2">
              <img src="bmc.png" width="18" height="30" />
              <span class="align-middle">Support creator</span>
            </button></a
          >
        </div>

        <div id="error-card" class="container-md text-center d-none">
          <h4>Uh oh</h4>
          <p id="error-text"></p>
          <button
            id="try-again-button"
            onclick="location.reload();"
            class="btn btn-dark mb-2"
          >
            Try again
          </button>

          <div
            id="extra-error-information"
            class="mt-4 border border-2 border-dark"
          >
            <h6>More information</h6>
            <pre class="text-wrap">
              No other information available
            </pre>
          </div>
          <p id="expired-file-note" class="d-none">
            <small>
              Don't think your file is expired?<br />Follow
              <a href="https://youtu.be/fDc3pZ9guCg" target="_blank"
                >this tutorial</a
              >
              to check one of the file download URL's.<br />Once you have tested
              the file, feel free to
              <a
                href="http://www.cal-overflow.dev/contact?memoryDownload=true"
                target="_blank"
                >reach out to me</a
              >
            </small>
          </p>
        </div>
      </div>
    </div>

    <div
      id="footer"
      class="container-fluid bg-dark text-center text-light py-4"
    >
      <div
        class="container-sm d-md-flex flex-row-reverse justify-content-evenly"
      >
        <p id="step-counter" class="min-w-33 mx-auto">
          <span
            id="1"
            class="p-2 rounded bg-light text-dark"
            role="button"
            onclick="manualStepChange(1);"
            >1</span
          >
          <span
            id="2"
            class="p-2 rounded bg-light text-dark"
            role="button"
            onclick="manualStepChange(2);"
            >2</span
          >
          <span
            id="3"
            class="p-2 rounded bg-light text-dark"
            role="button"
            onclick="manualStepChange(3);"
            >3</span
          >
          <span id="4" class="p-2 rounded bg-light text-dark" role="button"
            >4</span
          >
          <span id="5" class="p-2 rounded bg-light text-dark" role="button"
            >5</span
          >
        </p>
        <p class="min-w-33 mx-auto">
          <a
            id="start-over"
            class="pt-1 text-light text-decoration-none d-none"
            role="button"
            onclick="manualStepChange(0);"
            >Start over</a
          >
        </p>
        <p class="min-w-33 mx-auto">
          <a
            href="https://youtu.be/0_1mJ3w5LaA"
            target="_blank"
            class="pt-1 text-light text-decoration-none"
            >Watch a tutorial</a
          >
        </p>
      </div>

      <hr class="d-md-none" />
      <div
        class="container-sm mt-4 d-md-flex justify-content-evenly text-secondary"
      >
        <p class="min-w-33 mx-auto">
          <a
            href="https://www.downloadmysnapchatmemories.com/support"
            id="feedback-link"
            target="_blank"
            class="text-secondary text-decoration-none"
            >Support</a
          >
        </p>
        <p class="font-monospace min-w-33 mx-auto">
          <a
            id="version"
            href="https://github.com/cal-overflow/memory-download/releases/"
            target="_blank"
            class="text-secondary text-decoration-none"
          ></a>
        </p>
        <p class="min-w-33 mx-auto">
          <a
            href="http://www.downloadmysnapchatmemories.com/contributors"
            target="_blank"
            class="text-secondary text-decoration-none"
            >Contributors</a
          >
        </p>
      </div>
    </div>
  </body>
</html>

<noscript
  >You must enable JavaScript to use all features of this application.</noscript
>
<script type="text/javascript" src="app.js"></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
  crossorigin="anonymous"
></script>
<script>
  // Enable custom tooltips styling with Bootstrap
  var tooltipTriggerList = [].slice.call(
    document.querySelectorAll('[data-bs-toggle="tooltip"]')
  );
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl);
  });
</script>
